{"version":3,"sources":["webpack:///./src/views/event/gallery/Show.vue","webpack:///./src/views/event/gallery/Show.vue?6c31","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["class","type","to","id","loading","method","enctype","addPhotos","multiple","name","fileChange","$event","target","files","message","photos","photo","key","src","width","removePhoto","data","formPhotos","props","String","created","this","getGallery","then","res","catch","err","console","log","finally","methods","formData","FormData","forEach","file","append","addPhotoToGallery","index","photoId","deletedIndex","findIndex","e","splice","removePhotoFromGallery","render","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","O","len","length","actualStart","argumentsLength","arguments","TypeError"],"mappings":"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","file":"js/chunk-70274c38.a0ddf5c4.js","sourcesContent":["<template>\r\n    <div>\r\n        <router-link :to=\"{name: 'showEvent', params: {id}}\">Back</router-link>\r\n        <br>\r\n        <div v-show=\"loading\">Loading...</div>\r\n        <br>\r\n        <div class=\"mb-2\">\r\n            <form method=\"post\" enctype=\"multipart/form-data\" @submit.prevent=\"addPhotos\">\r\n                <input type=\"file\" multiple name=\"photos\"\r\n                    @change=\"fileChange($event.target.name, $event.target.files)\">\r\n                <button type=\"submit\">Add</button>\r\n            </form>\r\n        </div>\r\n        {{ message }}\r\n        <div>\r\n            <div v-for=\"photo in photos\" :key=\"photo.id\" class=\"mb-1\">\r\n                <img :src=\"photo.photo\" width=\"40\"> | \r\n                <span @click=\"removePhoto(photo.id)\">Delete</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport eventServie from '@/services/event.service';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            loading: false,\r\n            photos: [],\r\n            formPhotos: [],\r\n            files: [],\r\n            message: ''\r\n        }\r\n    },\r\n    props: {\r\n        id: {\r\n            type: String\r\n        }\r\n    },\r\n    created() {\r\n        this.loading = true\r\n        eventServie.getGallery(this.id)\r\n            .then(res=> {\r\n                this.photos = res.data;\r\n            })\r\n            .catch(err=> console.log(err))\r\n            .finally(()=> this.loading = false)\r\n    },\r\n    methods: {\r\n        addPhotos() {\r\n            this.message = 'Uploading...';\r\n            const formData = new FormData();\r\n             this.files.forEach(file=> {\r\n                formData.append('photos[]', file, file.name);\r\n            });\r\n            eventServie.addPhotoToGallery(this.id, formData)\r\n                .then(()=> {\r\n                    this.message='Done';\r\n                })\r\n                .catch(()=> this.message='Error');\r\n        },\r\n        fileChange(name, files) {\r\n            let index = 0;\r\n            files.forEach(file=> {\r\n                this.files[index++] = file;\r\n            });\r\n        },\r\n        removePhoto(photoId) {\r\n            this.message = 'Deleting...';\r\n            const deletedIndex = this.photos.findIndex(e=> {\r\n                return e.id == photoId;\r\n            });\r\n            this.photos.splice(deletedIndex, 1);\r\n            eventServie.removePhotoFromGallery(this.id, photoId)\r\n                .then(()=> {\r\n                    this.message = 'Deleted'\r\n                });\r\n        }\r\n    },\r\n}\r\n</script>","import { render } from \"./Show.vue?vue&type=template&id=0ab62557\"\nimport script from \"./Show.vue?vue&type=script&lang=js\"\nexport * from \"./Show.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}