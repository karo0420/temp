{"version":3,"sources":["webpack:///./src/views/profile/Main.vue","webpack:///./src/views/profile/Main.vue?3c0e"],"names":["class","loading","userInfo","src","profile","photo","width","username","name","date_of_birth","isFriend","isApproved","unfollow","cancelFollow","follow","events","active","expired","components","EventList","data","isFriendInfo","props","id","type","String","computed","created","this","get","then","res","friend","console","log","methods","followCancel","render"],"mappings":"qJACE,eAAI,mB,iBACmB,c,EAAU,eAAI,mB,KAAJ,G,YAE/B,eAAI,mB,YAEJ,eAAI,mB,EAEJ,eAAI,mB,EAEJ,eAAI,mB,EAEJ,eAAI,mB,GACCA,MAAM,iB,0CAgBX,eAAsB,UAAlB,iBAAa,G,EAGnB,eAAI,mB,EAEF,eAAuB,UAAnB,kBAAc,G,+GAjCpB,E,eACA,eAA4C,oB,QAA9B,EAAAC,WACH,EAAAC,U,iBAAX,eAwBM,SAvBJ,EACA,eAA8C,OAAxCC,IAAK,EAAAD,SAASE,QAAQC,MAAOC,MAAM,M,UACzC,E,eAAI,IACJ,eAAG,EAAAJ,SAASE,QAAQG,UAAU,IAC9B,K,eAAI,IACJ,eAAG,EAAAL,SAASE,QAAQI,MAAM,IAC1B,K,eAAI,IACJ,eAAG,EAAAN,SAASE,QAAQK,eAAgB,IACpC,KACA,eAaM,MAbN,EAaM,CAXO,EAAAC,U,iBAAX,eAOM,SANO,EAAAC,Y,iBAAX,eAEM,SADJ,eAA6C,UAApC,QAAK,+BAAE,EAAAC,cAAY,gB,iBAE9B,eAEM,SADJ,eAAiE,UAAxD,QAAK,+BAAE,EAAAC,kBAAgB,mC,iBAGpC,eAEM,SADJ,eAAyC,UAAhC,QAAK,+BAAE,EAAAC,YAAU,kB,sBAIhC,eAGM,YAFJ,EACA,eAAqC,GAAxBC,OAAQ,EAAAA,OAAOC,Q,qBAE9B,EACA,eAGM,YAFJ,EACA,eAAsC,GAAzBD,OAAQ,EAAAA,OAAOE,S,8EASjB,GACbC,WAAY,CAAEC,YAAA,MACdC,KAFa,WAGX,MAAO,CACLnB,SAAS,EACTC,SAAU,GACVmB,aAAc,GACdX,UAAU,EACVC,YAAY,IAGhBW,MAAO,CACLC,GAAI,CACFC,KAAMC,SAGVC,SAAU,kBACL,eAAS,QAAS,CACnB,YAGJC,QArBa,WAqBH,WACRC,KAAK3B,SAAU,EACf,OAAe4B,IAAID,KAAKL,IACrBO,MAAK,SAAAC,GACJ,EAAK7B,SAAW6B,EAAIX,KACpB,EAAKC,aAAeU,EAAIC,OACxB,EAAKtB,SAAW,EAAKW,aAAaX,SAClC,EAAKC,WAAa,EAAKU,aAAaV,WACpCsB,QAAQC,IAAIH,MAEbD,MAAK,kBAAK,EAAK7B,SAAU,MAE9BkC,QAAS,CACPrB,OADO,WACE,WACPc,KAAK3B,SAAU,EACf,OAAea,OAAOc,KAAKL,IACxBO,MAAK,WACJ,EAAKpB,UAAW,EAChB,EAAKC,YAAa,KAEnBmB,MAAK,kBAAK,EAAK7B,SAAU,MAE9BW,SAVO,WAWLgB,KAAKf,gBAEPA,aAbO,WAaQ,WACbe,KAAK3B,SAAU,EACf,OAAemC,aAAaR,KAAKL,IAC9BO,MAAK,WACJ,EAAKpB,UAAW,EAChB,EAAKC,YAAa,KAEnBmB,MAAK,kBAAK,EAAK7B,SAAU,QC9FlC,EAAOoC,OAASA,EAED","file":"js/chunk-2d0ddda4.fc88efce.js","sourcesContent":["<template>\r\n  <br>\r\n  <span v-show=\"loading\">Loading...<br></span>\r\n  <div v-if=\"userInfo\">\r\n    <br>\r\n    <img :src=\"userInfo.profile.photo\" width=\"50\">\r\n    <br>\r\n    {{ userInfo.profile.username}}\r\n    <br>\r\n    {{ userInfo.profile.name}}\r\n    <br>\r\n    {{ userInfo.profile.date_of_birth }}\r\n    <br>\r\n    <div class=\"my-2 bg-light\"\r\n    >\r\n      <div v-if=\"isFriend\">\r\n        <div v-if=\"isApproved\">\r\n          <button @click=\"unfollow()\">Unfollow</button>\r\n        </div>\r\n        <div v-else>\r\n          <button @click=\"cancelFollow()\">Cancel following request</button>\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <button @click=\"follow()\">Follow</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div>\r\n    <h3>Active events</h3>\r\n    <event-list :events=\"events.active\"/>\r\n  </div>\r\n  <br>\r\n  <div>\r\n    <h3>Expired events</h3>\r\n    <event-list :events=\"events.expired\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport EventList from '@/components/events/EventList'\r\nimport profileService from '@/services/profile.service'\r\n\r\nexport default {\r\n  components: { EventList },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      userInfo: '',\r\n      isFriendInfo: '',\r\n      isFriend: false,\r\n      isApproved: false\r\n    }\r\n  },\r\n  props: {\r\n    id: {\r\n      type: String\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('event', [\r\n      'events'\r\n    ]),\r\n  },\r\n  created() {\r\n    this.loading = true;\r\n    profileService.get(this.id)\r\n      .then(res=> {\r\n        this.userInfo = res.data;\r\n        this.isFriendInfo = res.friend\r\n        this.isFriend = this.isFriendInfo.isFriend\r\n        this.isApproved = this.isFriendInfo.isApproved\r\n        console.log(res);\r\n      })\r\n      .then(()=> this.loading = false);\r\n  },\r\n  methods: {\r\n    follow() {\r\n      this.loading = true\r\n      profileService.follow(this.id)\r\n        .then(()=> {\r\n          this.isFriend = true;\r\n          this.isApproved = false;\r\n        })\r\n        .then(()=> this.loading = false)\r\n    }, \r\n    unfollow() {\r\n      this.cancelFollow();\r\n    },\r\n    cancelFollow() {\r\n      this.loading = true;\r\n      profileService.followCancel(this.id)\r\n        .then(()=> {\r\n          this.isFriend = false;\r\n          this.isApproved = false;\r\n        })\r\n        .then(()=> this.loading = false)\r\n    }\r\n  },\r\n}\r\n</script>","import { render } from \"./Main.vue?vue&type=template&id=20b3e919\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}