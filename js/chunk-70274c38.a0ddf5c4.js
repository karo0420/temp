(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70274c38"],{3590:function(t,e,n){"use strict";n.r(e);n("b0c0");var o=n("7a23"),i=Object(o["h"])("Back"),r=Object(o["g"])("br",null,null,-1),a=Object(o["g"])("br",null,null,-1),c={class:"mb-2"},s=Object(o["g"])("button",{type:"submit"},"Add",-1),l=["src"],u=Object(o["h"])(" | "),h=["onClick"];function d(t,e,n,d,f,b){var g=Object(o["x"])("router-link");return Object(o["s"])(),Object(o["f"])("div",null,[Object(o["i"])(g,{to:{name:"showEvent",params:{id:n.id}}},{default:Object(o["G"])((function(){return[i]})),_:1},8,["to"]),r,Object(o["H"])(Object(o["g"])("div",null,"Loading...",512),[[o["E"],f.loading]]),a,Object(o["g"])("div",c,[Object(o["g"])("form",{method:"post",enctype:"multipart/form-data",onSubmit:e[1]||(e[1]=Object(o["I"])((function(){return b.addPhotos&&b.addPhotos.apply(b,arguments)}),["prevent"]))},[Object(o["g"])("input",{type:"file",multiple:"",name:"photos",onChange:e[0]||(e[0]=function(t){return b.fileChange(t.target.name,t.target.files)})},null,32),s],32)]),Object(o["h"])(" "+Object(o["z"])(f.message)+" ",1),Object(o["g"])("div",null,[(Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["w"])(f.photos,(function(t){return Object(o["s"])(),Object(o["f"])("div",{key:t.id,class:"mb-1"},[Object(o["g"])("img",{src:t.photo,width:"40"},null,8,l),u,Object(o["g"])("span",{onClick:function(e){return b.removePhoto(t.id)}},"Delete",8,h)])})),128))])])}n("d3b7"),n("159b"),n("c740"),n("a434");var f=n("30c1"),b={data:function(){return{loading:!1,photos:[],formPhotos:[],files:[],message:""}},props:{id:{type:String}},created:function(){var t=this;this.loading=!0,f["a"].getGallery(this.id).then((function(e){t.photos=e.data})).catch((function(t){return console.log(t)})).finally((function(){return t.loading=!1}))},methods:{addPhotos:function(){var t=this;this.message="Uploading...";var e=new FormData;this.files.forEach((function(t){e.append("photos[]",t,t.name)})),f["a"].addPhotoToGallery(this.id,e).then((function(){t.message="Done"})).catch((function(){return t.message="Error"}))},fileChange:function(t,e){var n=this,o=0;e.forEach((function(t){n.files[o++]=t}))},removePhoto:function(t){var e=this;this.message="Deleting...";var n=this.photos.findIndex((function(e){return e.id==t}));this.photos.splice(n,1),f["a"].removePhotoFromGallery(this.id,t).then((function(){e.message="Deleted"}))}}};b.render=d;e["default"]=b},a434:function(t,e,n){"use strict";var o=n("23e7"),i=n("23cb"),r=n("a691"),a=n("50c4"),c=n("7b0b"),s=n("65f0"),l=n("8418"),u=n("1dde"),h=u("splice"),d=Math.max,f=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,o,u,h,p,m,j=c(this),O=a(j.length),v=i(t,O),w=arguments.length;if(0===w?n=o=0:1===w?(n=0,o=O-v):(n=w-2,o=f(d(r(e),0),O-v)),O+n-o>b)throw TypeError(g);for(u=s(j,o),h=0;h<o;h++)p=v+h,p in j&&l(u,h,j[p]);if(u.length=o,n<o){for(h=v;h<O-o;h++)p=h+o,m=h+n,p in j?j[m]=j[p]:delete j[m];for(h=O;h>O-o+n;h--)delete j[h-1]}else if(n>o)for(h=O-o;h>v;h--)p=h+o-1,m=h+n-1,p in j?j[m]=j[p]:delete j[m];for(h=0;h<n;h++)j[h+v]=arguments[h+2];return j.length=O-o+n,u}})}}]);
//# sourceMappingURL=chunk-70274c38.a0ddf5c4.js.map