{"version":3,"sources":["webpack:///./src/services/user.service.js","webpack:///./src/views/event/guest/Add.vue","webpack:///./src/views/event/guest/Add.vue?f84d","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["UserService","page","perPage","randomSeed","Ax","get","params","per_page","rnd","searchText","post","q","then","res","Promise","resolve","data","catch","err","reject","type","doSearch","users","user","key","id","value","selectedUsers","profile","name","class","add","role","disabled","selectedIds","length","adding","status","props","String","computed","this","map","el","watch","v","methods","searchUser","$store","dispatch","eventId","guestIds","render","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"sKAEMA,E,uGAEJ,WACA,IADkBC,EAClB,uDADyB,EAAGC,EAC5B,uDADsC,GAAIC,EAC1C,uDADuD,EAErD,OAAOC,OAAGC,IAAI,oBAAqB,CACjCC,OAAQ,CACNL,OACAM,SAAUL,EACVM,IAAKL,O,wBAKX,SAAWM,EAAYR,EAAMC,GAC3B,OAAOE,OAAGM,KAAK,gBAAiB,CAC9BC,EAAGF,EACHR,OACAM,SAAUL,IAETU,MAAK,SAAAC,GAAG,OAAGC,QAAQC,QAAQF,EAAIG,SAC/BC,OAAM,SAAAC,GAAG,OAAGJ,QAAQK,OAAOD,U,KAKnB,WAAIlB,G,qJC1BjB,eAkBM,Y,eAjBJ,eAA4D,SAArDoB,KAAK,O,qDAAgB,EAAAX,WAAU,IAAG,QAAK,+BAAE,EAAAY,c,mBAApB,EAAAZ,cAC5B,eAMM,YALJ,eAIK,Y,mBAHH,eAEK,2BAFc,EAAAa,OAAK,SAAbC,G,wBAAX,eAEK,MAFsBC,IAAKD,EAAKE,I,gBACnC,eAA2E,SAApEL,KAAK,WAAYK,GAAIF,EAAKE,GAAKC,MAAOH,E,qDAAe,EAAAI,cAAa,K,mBAAb,EAAAA,iB,eAAe,IAAC,eAAGJ,EAAKK,QAAQC,MAAI,Q,UAItG,eAIM,a,mBAHJ,eAEO,2BAFc,EAAAF,eAAa,SAArBJ,G,wBAAb,eAEO,QAF8BC,IAAKD,EAAKE,GAAIK,MAAM,qB,eACpDP,EAAKK,QAAQC,MAAI,M,QAGxB,eAEM,YADJ,eAA6H,UAArHC,MAAM,uBAAwB,QAAK,+BAAE,EAAAC,QAAOC,KAAK,SAAUC,UAAW,EAAAC,YAAYC,QAAU,EAAAC,QAAQ,WAAQ,OAEtH,eAAuB,0BAAf,EAAAC,QAAM,K,0BAOH,GACbrB,KADa,WAEX,MAAO,CACLP,WAAY,GACZkB,cAAe,GACfL,MAAO,GACPc,QAAQ,EACRC,OAAQ,KAGZC,MAAO,CACLb,GAAI,CACFL,KAAMmB,SAGVC,SAAU,CACRN,YADQ,WAEN,OAAOO,KAAKd,cAAce,KAAI,SAAAC,GAAE,OAAGA,EAAGlB,QAG1CmB,MAAO,CACLnC,WADK,SACMoC,GACO,GAAZA,EAAEV,SACJM,KAAKnB,MAAQ,MAGnBwB,QAAS,CACPzB,SADO,WACI,WACT,OAAY0B,WAAWN,KAAKhC,YACzBG,MAAK,SAAAC,GACA,EAAKJ,WAAW0B,SAClB,EAAKb,MAAQT,EAAIG,UAGzBe,IARO,WAQD,WACJU,KAAKL,QAAS,EACdK,KAAKJ,OAAS,wBACdI,KAAKO,OAAOC,SAAS,iBAAkB,CACrCC,QAAST,KAAKhB,GACd0B,SAAUV,KAAKP,cAEdtB,MAAK,WACJ,EAAKU,MAAQ,GACb,EAAKb,WAAa,GAClB,EAAKkB,cAAgB,GACrB,EAAKU,OAAS,oBACd,EAAKD,QAAS,QCpExB,EAAOgB,OAASA,EAED,gB,kCCJf,IAAIC,EAAI,EAAQ,QACZC,EAAO,EAAQ,QAAgCZ,IAC/Ca,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAKvDF,EAAE,CAAEI,OAAQ,QAASC,OAAO,EAAMC,QAASH,GAAuB,CAChEd,IAAK,SAAakB,GAChB,OAAON,EAAKb,KAAMmB,EAAYC,UAAU1B,OAAS,EAAI0B,UAAU,QAAKC","file":"js/chunk-2c5eabd7.a7aa52eb.js","sourcesContent":["import Ax from './Ax';\r\n\r\nclass UserService {\r\n\r\n  getTodayBirthdays(page = 1, perPage = 15, randomSeed = 0)\r\n  {\r\n    return Ax.get('/explore/birthday', {\r\n      params: {\r\n        page,\r\n        per_page: perPage,\r\n        rnd: randomSeed\r\n      }\r\n    });\r\n  }\r\n\r\n  searchUser(searchText, page, perPage) {\r\n    return Ax.post('/users/search', {\r\n      q: searchText,\r\n      page,\r\n      per_page: perPage\r\n    })\r\n      .then(res=> Promise.resolve(res.data))\r\n      .catch(err=> Promise.reject(err));\r\n  }\r\n\r\n}\r\n\r\nexport default new UserService();","<template>\r\n  <div>\r\n    <input type=\"text\" v-model=\"searchText\" @keyup=\"doSearch()\">\r\n    <div>\r\n      <ul>\r\n        <li v-for=\"user in users\" :key=\"user.id\">\r\n          <input type=\"checkbox\" :id=\"user.id\" :value=\"user\" v-model=\"selectedUsers\"> {{ user.profile.name }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div>\r\n      <span v-for=\"user in selectedUsers\" :key=\"user.id\" class=\"mx-1 p-1 bg-light\">\r\n        {{ user.profile.name }}\r\n      </span>\r\n    </div>\r\n    <div>\r\n      <button class=\"btn btn-primary mt-2\" @click=\"add()\" role=\"button\" :disabled=\"!selectedIds.length || adding\">Add them</button>\r\n    </div>\r\n    <div>{{ status }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserService from '@/services/user.service'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchText: '',\r\n      selectedUsers: [],\r\n      users: [],\r\n      adding: false,\r\n      status: ''\r\n    }\r\n  },\r\n  props: {\r\n    id: {\r\n      type: String\r\n    }\r\n  },\r\n  computed: {\r\n    selectedIds() {\r\n      return this.selectedUsers.map(el=> el.id);\r\n    }\r\n  },\r\n  watch: {\r\n    searchText(v) {\r\n      if (v.length == 0)\r\n        this.users = [];\r\n    }\r\n  },\r\n  methods: {\r\n    doSearch() {\r\n      UserService.searchUser(this.searchText)\r\n        .then(res=> {\r\n          if (this.searchText.length)\r\n            this.users = res.data;\r\n        });\r\n    },\r\n    add() {\r\n      this.adding = true;\r\n      this.status = 'Adding in progress...';\r\n      this.$store.dispatch('event/addGuest', {\r\n        eventId: this.id,\r\n        guestIds: this.selectedIds\r\n      })\r\n        .then(()=> {\r\n          this.users = [];\r\n          this.searchText = '';\r\n          this.selectedUsers = [];\r\n          this.status = 'Successfuly added';\r\n          this.adding = false;\r\n        });\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./Add.vue?vue&type=template&id=40e6661f\"\nimport script from \"./Add.vue?vue&type=script&lang=js\"\nexport * from \"./Add.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}